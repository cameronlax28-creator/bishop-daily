<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bishop Daily</title>
  <style>
    :root {
      --owu-red: #C4122E;
      --owu-black: #100F0D;
      --owu-white: #FFFFFF;
    }
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: var(--owu-white);
      color: #222;
    }
    header {
      background-color: var(--owu-red);
      color: var(--owu-white);
      padding: 16px 0;
      text-align: center;
      letter-spacing: 2px;
    }
    nav {
      background-color: var(--owu-black);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }
    nav a {
      color: var(--owu-white);
      text-decoration: none;
      padding: 12px 20px;
      display: inline-block;
      transition: background .2s;
      font-weight: 600;
      font-size: 0.95rem;
    }
    nav a:hover { background: var(--owu-red); }
    .container {
      max-width: 900px;
      margin: 28px auto;
      padding: 20px;
      background: #fafafa;
      border-radius: 8px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.08);
    }
    h2 { color: var(--owu-red); margin-top: 0; }
    .section { margin-bottom: 36px; }
    .weather-card {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      border-radius: 8px;
      background: var(--owu-white);
      border: 1px solid #ddd;
    }
    .weather-main { font-size: 1.1rem; font-weight: 600; }
    .weather-extra { font-size: 0.9rem; color: #555; }
    #weather img { vertical-align: middle; margin-right: 8px; }
    .weather-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      flex-wrap: wrap;
    }
    .weather-tab {
      padding: 10px 18px;
      border: 2px solid var(--owu-red);
      background: var(--owu-white);
      color: var(--owu-red);
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
    }
    .weather-tab:hover { background: #ffe5e5; }
    .weather-tab.active {
      background: var(--owu-red);
      color: var(--owu-white);
    }
    .weather-detail {
      display: none;
      padding: 20px;
      background: var(--owu-white);
      border: 1px solid #ddd;
      border-radius: 8px;
      text-align: center;
    }
    .weather-detail.active { display: block; }
    .weather-detail .value {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--owu-red);
    }
    .weather-detail .label {
      font-size: 1rem;
      color: #666;
      margin-top: 8px;
    }
    .weather-detail .icon {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    ul { padding-left: 18px; }
    footer {
      background: var(--owu-black);
      color: var(--owu-white);
      padding: 10px 0;
      text-align: center;
      margin-top: 40px;
      font-size: .9em;
    }
    .tagline { margin: 4px 0 0; font-size: 0.95rem; }
  </style>
</head>
<body>
  <header>
    <h1>Bishop Daily</h1>
    <p class="tagline">Your daily campus weather and important events</p>
  </header>
  <nav>
    <a href="#home">Home</a>
    <a href="#weather-section">Weather</a>
    <a href="#events">Events</a>
    <a href="#contact">Contact</a>
  </nav>
  <main class="container" id="home">
    <section class="section" id="weather-section">
      <h2>Today's Weather Update</h2>
      <div id="weather">
        <div class="weather-card"><span>Loading weather...</span></div>
      </div>
      <div class="weather-tabs" id="weather-tabs" style="display:none;">
        <button class="weather-tab active" data-tab="temp">Temperature</button>
        <button class="weather-tab" data-tab="wind">Wind</button>
        <button class="weather-tab" data-tab="humidity">Humidity</button>
        <button class="weather-tab" data-tab="precip">Precipitation</button>
      </div>
      <div id="weather-details">
        <div class="weather-detail active" id="detail-temp">
          <div class="icon">üå°Ô∏è</div>
          <div class="value" id="temp-value">--</div>
          <div class="label">Current Temperature</div>
          <div class="label" id="temp-extra"></div>
        </div>
        <div class="weather-detail" id="detail-wind">
          <div class="icon">üí®</div>
          <div class="value" id="wind-value">--</div>
          <div class="label">Wind Speed</div>
          <div class="label" id="wind-extra"></div>
        </div>
        <div class="weather-detail" id="detail-humidity">
          <div class="icon">üíß</div>
          <div class="value" id="humidity-value">--</div>
          <div class="label">Humidity</div>
          <div class="label" id="humidity-extra"></div>
        </div>
        <div class="weather-detail" id="detail-precip">
          <div class="icon">üåßÔ∏è</div>
          <div class="value" id="precip-value">--</div>
          <div class="label">Precipitation (last 1h)</div>
          <div class="label" id="precip-extra"></div>
        </div>
      </div>
    </section>
    

  // Delaware, OH coordinates (Ohio Wesleyan University)
const lat = 40.2987;
const lon = -83.0680;
const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,precipitation,weather_code,wind_speed_10m,wind_direction_10m&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch&timezone=America%2FNew_York`;

    });
    fetch(url)
      .then(r => r.json())
      .then(data => {
        if (data.cod !== 200) throw new Error(data.message);
        const temp = Math.round(data.main.temp);
        const feels = Math.round(data.main.feels_like);
        const high = Math.round(data.main.temp_max);
        const low = Math.round(data.main.temp_min);
        const humidity = data.main.humidity;
        const windSpeed = Math.round(data.wind.speed);
        const windDir = data.wind.deg;
        const desc = data.weather[0].description;
        const icon = data.weather[0].icon;
        const rain = data.rain ? data.rain['1h'] || 0 : 0;
        const snow = data.snow ? data.snow['1h'] || 0 : 0;
        const precip = rain + snow;
        document.getElementById('weather').innerHTML = `
          <div class="weather-card">
            <img src="https://openweathermap.org/img/wn/${icon}@2x.png" alt="${desc}">
            <div>
              <div class="weather-main">${city}, ${state} - ${desc.charAt(0).toUpperCase() + desc.slice(1)}</div>
              <div class="weather-extra">Now: ${temp}¬∞F | Feels like: ${feels}¬∞F</div>
            </div>
          </div>`;
        document.getElementById('weather-tabs').style.display = 'flex';
        document.getElementById('temp-value').textContent = temp + '¬∞F';
        document.getElementById('temp-extra').textContent = `Feels like ${feels}¬∞F | High: ${high}¬∞F | Low: ${low}¬∞F`;
        document.getElementById('wind-value').textContent = windSpeed + ' mph';
        document.getElementById('wind-extra').textContent = `Direction: ${getWindDirection(windDir)} (${windDir}¬∞)`;
        document.getElementById('humidity-value').textContent = humidity + '%';
        document.getElementById('humidity-extra').textContent = humidity > 70 ? 'High humidity - feels muggy' : humidity < 30 ? 'Low humidity - feels dry' : 'Comfortable humidity level';
        document.getElementById('precip-value').textContent = precip > 0 ? precip.toFixed(2) + ' mm' : 'None';
        document.getElementById('precip-extra').textContent = precip > 0 ? 'Precipitation detected recently' : 'No precipitation in the last hour';
      })
      .catch(err => {
        document.getElementById('weather').innerHTML = '<div class="weather-card"><span>Unable to load weather data.</span></div>';
        console.error(err);
      });
    function getWindDirection(deg) {
      const dirs = ['N','NNE','NE','ENE','E','ESE','SE','SSE','S','SSW','SW','WSW','W','WNW','NW','NNW'];
      return dirs[Math.round(deg / 22.5) % 16];
    }
  </script>

  <!-- Instagram Section -->
<section style="max-width: 600px; margin: 20px auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <h2 style="text-align: center; margin-bottom: 20px; color: #333;">Featured Post</h2>
    <div style="display: flex; justify-content: center;">
        <blockquote class="instagram-media"
            data-instgrm-captioned
            data-instgrm-permalink="https://www.instagram.com/reel/DRUgbKGEe2t/"
            data-instgrm-version="14"
            style="background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:100%;">
        </blockquote>
        <script async src="//www.instagram.com/embed.js"></script>
    </div>
</section>

</body>
</html>
